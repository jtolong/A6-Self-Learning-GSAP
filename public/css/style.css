/* base*/
* { box-sizing: border-box; }
html, body { margin: 0; padding: 0; }
body {
  font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  line-height: 1.6; color: #111; background: #fff;
  -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale;
  overflow-x: hidden; 
}

/*theme*/
:root{
  --brand:#6366f1; --accent:#22c55e; --dark:#0f172a; --light:#e5e7eb;
  --container-max:1100px; --container-pad:1rem;

  --hero-banner-top:0px; --banner-h:0px; 
  --gap:clamp(.75rem,2vw,1.25rem);  
  --content-w:80%;                  
}

/*container*/
.container{
  width:min(var(--container-max), 92vw);
  margin-inline:auto; padding-inline:var(--container-pad);
}

.panel .container > * { max-width: var(--content-w); margin-inline:auto; }

/* breakpoints */
@media (max-width:900px){ .panel .container > * { max-width: 85%; } }  /* tablet */
@media (max-width:640px){ 
  .container { width:min(var(--container-max), 96vw); }
  .panel .container > * { max-width: 92%; }                           /* phone */
}

/*global vertical rhythm*/
.panel .container > * + * { margin-top: var(--gap); }
.col > * + * { margin-top: var(--gap); }

/*header*/
.site-header{
  position: sticky; top: 0;
  background: rgba(255,255,255,.9);
  backdrop-filter: saturate(180%) blur(10px);
  border-bottom: 1px solid #eee; z-index: 10;
}
.nav{ display:flex; align-items:center; justify-content:space-between; gap:1rem; padding-block:.6rem; }
.brand{ font-weight:800; letter-spacing:.4px; }
.nav-links{ list-style:none; display:flex; gap:.75rem; margin:0; padding:0; flex-wrap:wrap; }
.nav a{ text-decoration:none; color:#111; padding:.25rem .5rem; border-radius:.4rem; }
.nav a:hover{ background:#f3f4f6; }
/* breakpoints */
@media (max-width:480px){
  .nav{ flex-wrap:wrap; row-gap:.5rem; }
  .nav-links{ flex:1 1 100%; overflow-x:auto; padding-bottom:.25rem; }
}

/* -----------------------------
   progress + chip
----------------------------- */
.progress-wrap{ position:sticky; top:0; height:4px; z-index:100; }
.progress-bar{ height:100%; width:0; transform-origin:left center; background:linear-gradient(90deg,#111,var(--brand)); }
.chip{ padding:.45rem .6rem; border-radius:999px; background:#111; color:#fff; font-size:.75rem; }

/* -----------------------------
   panels
----------------------------- */
.panel{ min-height:90svh; display:grid; align-items:center; padding-block:clamp(2.25rem,5vw,5rem); }
.panel.alt{ background:var(--dark); color:var(--light); }
.panel.center{ text-align:center; }
/* breakpoints */
@media (max-width:900px){ .panel{ min-height:76svh; } }

/* -----------------------------
   hero
----------------------------- */
.hero{ position:relative; background: radial-gradient(900px 500px at 10% 10%, #dbeafe 0%, transparent 55%) #fff; }
.hero-inner{
  padding-top: calc(var(--hero-banner-top) + max(0px, var(--banner-h)) + .6rem);
  padding-bottom: clamp(2rem, 5vw, 4rem);
}
.lead{ font-size: clamp(1rem, 1.6vw, 1.1rem); max-width: 65ch; }
.hero-img{ width:100%; height:auto; border-radius:.75rem; display:block; }

/*banner*/
.gsap-banner{
  position:absolute; top:var(--hero-banner-top); left:50%; transform:translateX(-50%);
  z-index:6; opacity:0; pointer-events:none;
  font-weight:800; text-transform:uppercase; letter-spacing:.16em;
  font-size: clamp(1.05rem, 4vw, 2.2rem);
  background:linear-gradient(90deg,#8b5cf6,#06b6d4,#22c55e,#eab308,#f97316); background-size:200% 100%;
  -webkit-background-clip:text; background-clip:text; color:transparent;
  padding:.45rem 1rem; border-radius:0 0 12px 12px; box-shadow:0 12px 28px rgba(0,0,0,.25);
  text-shadow:0 0 8px rgba(139,92,246,.35), 0 0 18px rgba(6,182,212,.25);
  --shine-x:-120%;
  max-width: 95vw;           
  white-space: nowrap;       
  overflow: hidden;          
}
.gsap-banner::after{
  content:""; position:absolute; inset:0 auto 0 var(--shine-x);
  width:40%; transform:skewX(-20deg);
  background:linear-gradient(90deg,rgba(255,255,255,0) 0%,rgba(255,255,255,.35) 45%,rgba(255,255,255,0) 100%);
  filter: blur(2px);
}
.gsap-banner.is-glow{ text-shadow:0 0 10px rgba(139,92,246,.55), 0 0 22px rgba(34,197,94,.35); }
/* breakpoints */
@media (max-width:900px){ .gsap-banner{ font-size: clamp(1rem, 3.6vw, 1.5rem); letter-spacing:.12em; } }
@media (max-width:600px){ .gsap-banner{ font-size: clamp(.95rem, 4vw, 1.25rem); padding:.3rem .8rem; border-radius:0 0 10px 10px; } }
@media (pointer:fine){ .gsap-banner{ transition: transform .18s ease; } .gsap-banner:hover{ transform:translateX(-50%) rotateX(6deg) translateY(-2px); } }

/*compare*/
.compare{ display:grid; grid-template-columns:repeat(2,1fr); gap:var(--gap); }
.box{ border:1px solid #e5e7eb; background:#fff; border-radius:.75rem; padding:clamp(1rem,2vw,1.25rem); }
.box h3{ margin:0 0 .25rem; font-weight:800; }
/* breakpoints */
@media (max-width:768px){ .compare{ grid-template-columns:1fr; } }

/*two-col*/
.two-col{ display:grid; align-items:center; grid-template-columns:1.1fr 0.9fr; gap:clamp(1rem,5vw,3rem); }
.two-col.reverse{ grid-template-columns:0.9fr 1.1fr; }
.narrow{ max-width:65ch; margin-inline:auto; }
.media img{ width:100%; height:auto; border-radius:.75rem; display:block; }
/* breakpoints */
@media (max-width:1024px){ .two-col, .two-col.reverse{ grid-template-columns:1fr; } }

/* make grid children shrink*/
.two-col > .col, .pin-target { min-width: 0; }

/*code card*/
.code-card{
  background:#0b1220; color:#c7d2fe; border-radius:.75rem; padding:.75rem;
  box-shadow:0 10px 30px rgba(0,0,0,.35);
  display:flex; flex-direction:column; overflow:hidden;
}
.code-card pre{
  margin:0; max-width:100%;
  overflow-x:hidden;           
  white-space:pre-wrap;         
  word-break:break-word;
}
.code{
  font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;
  font-size:.9rem;
}

/* Chapter 2 media stack */
#chapter2 .media{ display:flex; flex-direction:column; gap:var(--gap); }
#chapter2 .media .code-card{ flex:1; }

/* Chapter 3 media stack*/
#chapter3 .media{ display:flex; flex-direction:column; gap:var(--gap); }
#chapter3 .media .code-card{ flex:1; }

/* same container width behavior */
#chapter3 .container { width: min(var(--container-max), 92vw); margin-inline: auto; padding-inline: var(--container-pad); }
@media (max-width: 640px){
  #chapter3 .container { width: min(var(--container-max), 96vw); }
}

/* media safety */
#chapter3 .media, #chapter3 .code-card { width: 100%; }



/*dots*/
.demo-dots{ display:flex; gap:.5rem; }
.dot{ width:18px; height:18px; border-radius:999px; background:radial-gradient(90px 70px at 10% 10%, #dbeafe 0%, transparent 55%) #fff; display:inline-block; }

/*steps*/
.steps .step{ margin:.5rem 0; }

/*icon grid*/
.icon-grid{ display:grid; gap:.75rem; grid-template-columns:repeat(6,1fr); }
.icon{
  background:rgba(255,255,255,.06);
  border:1px solid rgba(255,255,255,.12);
  color:var(--light); border-radius:.6rem;
  padding:clamp(.75rem,2vw,1rem);
  text-align:center; font-weight:700;
}
/* breakpoints */
@media (max-width:1024px){ .icon-grid{ grid-template-columns:repeat(4,1fr); } }
@media (max-width:768px){ .icon-grid{ grid-template-columns:repeat(3,1fr); } }
@media (max-width:480px){ .icon-grid{ grid-template-columns:repeat(2,1fr); } }

/*flip grid*/
.flip-controls{ display:flex; gap:.5rem; flex-wrap:wrap; }
.flip-grid{ display:grid; gap:.75rem; grid-template-columns:repeat(4,1fr); }
.tile{
  border-radius:.75rem; overflow:hidden; border:1px solid #e5e7eb; background:#fff;
  transition: transform .2s ease, box-shadow .2s ease;
}
.tile:hover{ transform: translateY(-2px); box-shadow:0 8px 24px rgba(0,0,0,.12); }
.tile img{ display:block; width:100%; aspect-ratio:16/10; object-fit:cover; }
.tile figcaption{ padding:.5rem .75rem; font-weight:600; }
/* breakpoints */
@media (max-width:1280px){ .flip-grid{ grid-template-columns:repeat(3,3fr); } }
@media (max-width:900px){ .flip-grid{ grid-template-columns:repeat(2,1fr); } }
@media (max-width:480px){ .flip-grid{ grid-template-columns:1fr; } }

/* devices */
.device-row{ display:grid; gap:1rem; grid-template-columns:1fr 1fr; }
.device{ border:1px solid #e5e7eb; border-radius:.75rem; padding:.5rem; background:#fff; }
.screen{ height:clamp(180px,26vw,240px); border-radius:.5rem; display:grid; place-items:center; color:#fff; font-weight:700; text-transform:uppercase; }
.demo-phone{ background:linear-gradient(120deg,#111,#4b5563); }
.demo-laptop{ background:linear-gradient(120deg,#111,#0ea5e9); }
/* breakpoints */
@media (max-width:900px){ .device-row{ grid-template-columns:1fr; } }

/* buttons & badge*/
.btn{
  display:inline-block; padding:.75rem 1rem; border-radius:.5rem;
  background:#111; color:#fff; text-decoration:none; font-weight:600;
  border:2px solid transparent; cursor:pointer;
}
.btn:hover{ opacity:.95; }
.btn.outline{ background:transparent; color:inherit; border-color:currentColor; }

.badge{
  margin-top:1rem; display:inline-block; padding:.75rem 1rem; border-radius:999px;
  background: var(--accent); color:#063a20; font-weight:800; transform: scale(.9); opacity:0;
}

/*stats*/
.stats{ display:grid; grid-template-columns:repeat(4,1fr); gap:clamp(.75rem,2vw,1.5rem); }
.stat{ background:rgba(255,255,255,.06); border:1px solid rgba(255,255,255,.12); border-radius:.75rem; padding:clamp(.75rem,2vw,1rem); }
.stat .num{ display:block; font-size:clamp(1.5rem,4vw,2.5rem); font-weight:800; }
.stat .label{ opacity:.85; }
/* breakpoints */
@media (max-width:1000px){ .stats{ grid-template-columns:repeat(2,1fr); } }
@media (max-width:520px){ .stats{ grid-template-columns:1fr; } }

/* callouts + footer*/
.callout{ border:1px solid #e5e7eb; border-radius:.75rem; background:#fff; padding:clamp(.75rem,2vw,1rem); }
.panel.alt .callout{ background:rgba(255,255,255,.06); border-color:rgba(255,255,255,.12); }
.callout blockquote{ font-size:clamp(1rem,1.8vw,1.05rem); font-weight:700; line-height:1.5; }
.callout figcaption{ opacity:.7; margin-top:.5rem; font-size:.9rem; }

.site-footer{ border-top:1px solid #eee; padding:2rem 0; }

/*reveal presets*/
.reveal-from-bottom,
.reveal-from-left,
.reveal-from-right{ opacity:0; transform:translateY(16px); will-change:transform,opacity; }
.reveal-from-left{ transform:translateX(-16px); }
.reveal-from-right{ transform:translateX(16px); }

/*accessibility*/
@media (prefers-reduced-motion:reduce){
  .reveal-from-bottom, .reveal-from-left, .reveal-from-right{ opacity:1; transform:none; }
}
html:not(.js) .reveal-from-bottom,
html:not(.js) .reveal-from-left,
html:not(.js) .reveal-from-right{ opacity:1; transform:none; }
